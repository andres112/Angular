<h2>Template Form: Dynamics</h2>
<hr />

<form (ngSubmit)="save()" #templateDynamicForm="ngForm">
  <div class="mb-3">
    <label for="templateDynamicName" class="form-label">Name</label>
    <input
      type="text"
      class="form-control"
      id="templateDynamicName"
      [(ngModel)]="person.name"
      aria-describedby="nameHelp"
      name="name"
      required
    />
    <span *ngIf="validName()" class="form-text text-danger-emphasis">
      Field required.
    </span>
  </div>
  <!-- Add games section -->
  <div class="mb-3">
    <label for="templateDynamicAdd" class="form-label">Addition</label>
    <div class="input-group mb-3" id="templateDynamicAdd">
      <input
        type="text"
        class="form-control"
        id="templateDynamicAdd"
        placeholder="Add favorite game"
        ngModel
        name='favorite'
      />
      <button class="btn btn-outline-success py-0" type="button" (click)="addFavorite()">
        <i class="bi bi-plus"></i>
      </button>
    </div>
  </div>
  <!-- List of games -->
  <div class="mb-3">
    <label for="templateDynamicAdd" class="form-label">
      <i class="bi bi-star"></i> Favorites
    </label>
    <input
      *ngFor="let game of person.favorites; let id = index"
      class="form-control-plaintext mb-1"
      [(ngModel)]="game.name"
      name="favorite_{{ id }}"
      readonly
    />
  </div>

  <div class="d-flex justify-content-center">
    <button
      type="button"
      (click)="save()"
      class="btn btn-success"
      [disabled]="templateDynamicForm.invalid"
    >
      Submit
    </button>
  </div>
</form>



<h3>Form Value</h3>
<pre>
    {{ person | json }}
</pre>